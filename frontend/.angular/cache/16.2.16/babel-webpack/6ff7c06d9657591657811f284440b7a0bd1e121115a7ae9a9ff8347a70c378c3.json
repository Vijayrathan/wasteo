{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/user.service\";\nimport * as i3 from \"../../services/chat.service\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"chatMessages\"];\nfunction ChatComponent_div_12_i_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 2);\n  }\n}\nfunction ChatComponent_div_12_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 21);\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    \"user-message\": a0,\n    \"ai-message\": a1\n  };\n};\nfunction ChatComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"div\", 16);\n    i0.ɵɵtemplate(3, ChatComponent_div_12_i_3_Template, 1, 0, \"i\", 17);\n    i0.ɵɵtemplate(4, ChatComponent_div_12_i_4_Template, 1, 0, \"i\", 18);\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 19);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(10, \"div\", 20);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const message_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(9, _c1, message_r4.sender === \"user\", message_r4.sender === \"ai\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", message_r4.sender === \"ai\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r4.sender === \"user\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r4.sender === \"user\" ? ctx_r1.userName || \"You\" : \"EcoWise AI\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 6, message_r4.timestamp, \"shortTime\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", message_r4.content, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction ChatComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelement(1, \"div\", 23);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"EcoWise AI is thinking...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ChatComponent_div_14_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function ChatComponent_div_14_button_4_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const tip_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.selectQuickTip(tip_r8));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tip_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tip_r8, \" \");\n  }\n}\nfunction ChatComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25);\n    i0.ɵɵtext(2, \"Quick suggestions:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 26);\n    i0.ɵɵtemplate(4, ChatComponent_div_14_button_4_Template, 2, 1, \"button\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.ecoTips);\n  }\n}\nexport class ChatComponent {\n  constructor(formBuilder, userService, chatService) {\n    this.formBuilder = formBuilder;\n    this.userService = userService;\n    this.chatService = chatService;\n    this.messages = [];\n    this.loading = false;\n    this.userName = \"\";\n    // Sample eco-tips for quick suggestions\n    this.ecoTips = [\"How can I reduce my carbon footprint?\", \"Give me tips for zero waste shopping\", \"What are sustainable alternatives to plastic?\", \"How can I save energy at home?\", \"Tell me about composting at home\"];\n  }\n  ngOnInit() {\n    this.chatForm = this.formBuilder.group({\n      message: [\"\", Validators.required]\n    });\n    const user = this.userService.getCurrentUser();\n    if (user) {\n      this.userName = user.name;\n      this.loadChatHistory();\n    }\n    // Welcome message\n    this.addMessage(\"Hello! I'm your EcoWise AI assistant. How can I help you with your sustainability journey today?\", \"ai\");\n  }\n  loadChatHistory() {\n    this.loading = true;\n    this.chatService.getChatHistory().subscribe({\n      next: history => {\n        if (history && history.length > 0) {\n          // Add previous messages to chat\n          history.forEach(msg => {\n            this.messages.push({\n              content: msg.content,\n              sender: msg.sender,\n              timestamp: new Date(msg.timestamp)\n            });\n          });\n          setTimeout(() => this.scrollToBottom(), 100);\n        }\n        this.loading = false;\n      },\n      error: error => {\n        console.error(\"Error loading chat history:\", error);\n        this.loading = false;\n      }\n    });\n  }\n  onSubmit() {\n    if (this.chatForm.invalid) {\n      return;\n    }\n    const userMessage = this.chatForm.get(\"message\").value;\n    this.addMessage(userMessage, \"user\");\n    this.chatForm.reset();\n    // Send message to API\n    this.loading = true;\n    this.chatService.sendMessage(userMessage).subscribe({\n      next: response => {\n        this.addMessage(response.reply, \"ai\");\n        this.loading = false;\n      },\n      error: error => {\n        console.error(\"Error sending message:\", error);\n        this.addMessage(\"Sorry, I encountered an error processing your request. Please try again later.\", \"ai\");\n        this.loading = false;\n      }\n    });\n  }\n  addMessage(content, sender) {\n    const message = {\n      content,\n      sender,\n      timestamp: new Date()\n    };\n    this.messages.push(message);\n    setTimeout(() => this.scrollToBottom(), 100);\n  }\n  scrollToBottom() {\n    try {\n      this.chatMessages.nativeElement.scrollTop = this.chatMessages.nativeElement.scrollHeight;\n    } catch (err) {\n      console.error(\"Error scrolling to bottom:\", err);\n    }\n  }\n  selectQuickTip(tip) {\n    this.chatForm.patchValue({\n      message: tip\n    });\n  }\n  clearChat() {\n    this.messages = [];\n    this.addMessage(\"Chat cleared. How else can I help you with your sustainability journey?\", \"ai\");\n    // Clear chat history in the backend\n    this.chatService.clearChatHistory().subscribe({\n      error: error => console.error(\"Error clearing chat history:\", error)\n    });\n  }\n  static {\n    this.ɵfac = function ChatComponent_Factory(t) {\n      return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.ChatService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ChatComponent,\n      selectors: [[\"app-chat\"]],\n      viewQuery: function ChatComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.chatMessages = _t.first);\n        }\n      },\n      decls: 19,\n      vars: 6,\n      consts: [[1, \"chat-container\"], [1, \"chat-header\"], [1, \"fas\", \"fa-robot\"], [1, \"btn\", \"btn-sm\", \"btn-outline-secondary\", 3, \"click\"], [1, \"fas\", \"fa-trash\"], [1, \"chat-messages\"], [\"chatMessages\", \"\"], [\"class\", \"message\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"ai-typing\", 4, \"ngIf\"], [\"class\", \"quick-suggestions\", 4, \"ngIf\"], [1, \"chat-input\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"formControlName\", \"message\", \"placeholder\", \"Type your question here...\", 1, \"form-control\", 3, \"disabled\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"submit-btn\", 3, \"disabled\"], [1, \"fas\", \"fa-paper-plane\"], [1, \"message\", 3, \"ngClass\"], [1, \"message-content\"], [1, \"message-sender\"], [\"class\", \"fas fa-robot\", 4, \"ngIf\"], [\"class\", \"fas fa-user\", 4, \"ngIf\"], [1, \"timestamp\"], [1, \"message-text\", 3, \"innerHTML\"], [1, \"fas\", \"fa-user\"], [1, \"ai-typing\"], [1, \"dot-flashing\"], [1, \"quick-suggestions\"], [1, \"suggestion-label\"], [1, \"suggestions-list\"], [\"class\", \"suggestion-button\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"suggestion-button\", 3, \"click\"]],\n      template: function ChatComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵelement(3, \"i\", 2);\n          i0.ɵɵtext(4, \" EcoWise AI Assistant\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\");\n          i0.ɵɵtext(6, \" Ask me anything about sustainable living, eco-tips, or your environmental impact \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_7_listener() {\n            return ctx.clearChat();\n          });\n          i0.ɵɵelement(8, \"i\", 4);\n          i0.ɵɵtext(9, \" Clear Chat \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 5, 6);\n          i0.ɵɵtemplate(12, ChatComponent_div_12_Template, 11, 12, \"div\", 7);\n          i0.ɵɵtemplate(13, ChatComponent_div_13_Template, 4, 0, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(14, ChatComponent_div_14_Template, 5, 1, \"div\", 9);\n          i0.ɵɵelementStart(15, \"form\", 10);\n          i0.ɵɵlistener(\"ngSubmit\", function ChatComponent_Template_form_ngSubmit_15_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelement(16, \"input\", 11);\n          i0.ɵɵelementStart(17, \"button\", 12);\n          i0.ɵɵelement(18, \"i\", 13);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.ecoTips.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.chatForm);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.chatForm.invalid || ctx.loading);\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i4.DatePipe],\n      styles: [\".chat-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  height: calc(100vh - 70px);\\n  background-color: #f8f9fa;\\n  padding: 1rem;\\n}\\n\\n.chat-header[_ngcontent-%COMP%] {\\n  background-color: white;\\n  border-radius: 0.75rem;\\n  padding: 1.25rem;\\n  margin-bottom: 1rem;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\\n  position: relative;\\n}\\n.chat-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  color: #2c7a67;\\n  font-size: 1.5rem;\\n  margin-bottom: 0.5rem;\\n}\\n.chat-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  margin-right: 0.5rem;\\n}\\n.chat-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: #6c757d;\\n  margin-bottom: 0;\\n}\\n.chat-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 1.25rem;\\n  right: 1.25rem;\\n  font-size: 0.875rem;\\n}\\n.chat-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  margin-right: 0.35rem;\\n}\\n\\n.chat-messages[_ngcontent-%COMP%] {\\n  flex: 1;\\n  overflow-y: auto;\\n  padding: 1rem;\\n  background-color: white;\\n  border-radius: 0.75rem;\\n  margin-bottom: 1rem;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\\n}\\n.chat-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%] {\\n  margin-bottom: 1.25rem;\\n  max-width: 80%;\\n}\\n.chat-messages[_ngcontent-%COMP%]   .message.user-message[_ngcontent-%COMP%] {\\n  margin-left: auto;\\n}\\n.chat-messages[_ngcontent-%COMP%]   .message.user-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%] {\\n  background-color: #e7f2ef;\\n  border-radius: 1rem 1rem 0 1rem;\\n}\\n.chat-messages[_ngcontent-%COMP%]   .message.ai-message[_ngcontent-%COMP%] {\\n  margin-right: auto;\\n}\\n.chat-messages[_ngcontent-%COMP%]   .message.ai-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%] {\\n  background-color: #f0f2f5;\\n  border-radius: 1rem 1rem 1rem 0;\\n}\\n.chat-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%] {\\n  padding: 0.75rem 1rem;\\n}\\n.chat-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 0.5rem;\\n  font-size: 0.875rem;\\n  color: #495057;\\n}\\n.chat-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  margin-right: 0.5rem;\\n}\\n.chat-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%] {\\n  margin-left: auto;\\n  color: #adb5bd;\\n  font-size: 0.75rem;\\n}\\n.chat-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%] {\\n  line-height: 1.5;\\n  word-wrap: break-word;\\n}\\n\\n.ai-typing[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  color: #6c757d;\\n  font-size: 0.875rem;\\n  margin-bottom: 1rem;\\n}\\n.ai-typing[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  margin-left: 0.5rem;\\n}\\n.ai-typing[_ngcontent-%COMP%]   .dot-flashing[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 8px;\\n  height: 8px;\\n  border-radius: 5px;\\n  background-color: #2c7a67;\\n  animation: _ngcontent-%COMP%_dot-flashing 1s infinite linear alternate;\\n  animation-delay: 0.5s;\\n}\\n.ai-typing[_ngcontent-%COMP%]   .dot-flashing[_ngcontent-%COMP%]::before, .ai-typing[_ngcontent-%COMP%]   .dot-flashing[_ngcontent-%COMP%]::after {\\n  content: \\\"\\\";\\n  display: inline-block;\\n  position: absolute;\\n  top: 0;\\n}\\n.ai-typing[_ngcontent-%COMP%]   .dot-flashing[_ngcontent-%COMP%]::before {\\n  left: -12px;\\n  width: 8px;\\n  height: 8px;\\n  border-radius: 5px;\\n  background-color: #2c7a67;\\n  animation: _ngcontent-%COMP%_dot-flashing 1s infinite alternate;\\n  animation-delay: 0s;\\n}\\n.ai-typing[_ngcontent-%COMP%]   .dot-flashing[_ngcontent-%COMP%]::after {\\n  left: 12px;\\n  width: 8px;\\n  height: 8px;\\n  border-radius: 5px;\\n  background-color: #2c7a67;\\n  animation: _ngcontent-%COMP%_dot-flashing 1s infinite alternate;\\n  animation-delay: 1s;\\n}\\n\\n@keyframes _ngcontent-%COMP%_dot-flashing {\\n  0% {\\n    background-color: #2c7a67;\\n  }\\n  50%, 100% {\\n    background-color: rgba(44, 122, 103, 0.2);\\n  }\\n}\\n.quick-suggestions[_ngcontent-%COMP%] {\\n  background-color: white;\\n  border-radius: 0.75rem;\\n  padding: 1rem;\\n  margin-bottom: 1rem;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\\n}\\n.quick-suggestions[_ngcontent-%COMP%]   .suggestion-label[_ngcontent-%COMP%] {\\n  font-size: 0.875rem;\\n  color: #6c757d;\\n  margin-bottom: 0.75rem;\\n}\\n.quick-suggestions[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 0.75rem;\\n}\\n.quick-suggestions[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-button[_ngcontent-%COMP%] {\\n  background-color: #f0f2f5;\\n  border: none;\\n  border-radius: 1rem;\\n  padding: 0.5rem 1rem;\\n  font-size: 0.875rem;\\n  color: #2c7a67;\\n  cursor: pointer;\\n  transition: background-color 0.2s;\\n}\\n.quick-suggestions[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-button[_ngcontent-%COMP%]:hover {\\n  background-color: #e7f2ef;\\n}\\n\\n.chat-input[_ngcontent-%COMP%] {\\n  display: flex;\\n  background-color: white;\\n  border-radius: 0.75rem;\\n  padding: 1rem;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\\n}\\n.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  flex: 1;\\n  border: 1px solid #e9ecef;\\n  border-radius: 0.5rem;\\n  padding: 0.75rem 1rem;\\n}\\n.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus {\\n  border-color: #2c7a67;\\n  box-shadow: 0 0 0 0.2rem rgba(44, 122, 103, 0.25);\\n}\\n.chat-input[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%] {\\n  background-color: #2c7a67;\\n  border-color: #2c7a67;\\n  border-radius: 0.5rem;\\n  padding: 0.75rem 1rem;\\n  margin-left: 0.75rem;\\n}\\n.chat-input[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover, .chat-input[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:focus {\\n  background-color: #236355;\\n  border-color: #236355;\\n}\\n.chat-input[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:disabled {\\n  background-color: #8ab9af;\\n  border-color: #8ab9af;\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  .chat-container[_ngcontent-%COMP%] {\\n    padding: 0.5rem;\\n    height: calc(100vh - 56px);\\n  }\\n  .message[_ngcontent-%COMP%] {\\n    max-width: 90% !important;\\n  }\\n  .quick-suggestions[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-button[_ngcontent-%COMP%] {\\n    font-size: 0.75rem;\\n    padding: 0.4rem 0.75rem;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jaGF0L2NoYXQuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi8uLi9TcHJpbmclMjAyMDI1L1dhc3RlMC9mcm9udGVuZC9zcmMvYXBwL2NvbXBvbmVudHMvY2hhdC9jaGF0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsMEJBQUE7RUFDQSx5QkFBQTtFQUNBLGFBQUE7QUNDRjs7QURFQTtFQUNFLHVCQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EseUNBQUE7RUFDQSxrQkFBQTtBQ0NGO0FEQ0U7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxxQkFBQTtBQ0NKO0FEQ0k7RUFDRSxvQkFBQTtBQ0NOO0FER0U7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7QUNESjtBRElFO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0FDRko7QURJSTtFQUNFLHFCQUFBO0FDRk47O0FET0E7RUFDRSxPQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EseUNBQUE7QUNKRjtBRE1FO0VBQ0Usc0JBQUE7RUFDQSxjQUFBO0FDSko7QURNSTtFQUNFLGlCQUFBO0FDSk47QURNTTtFQUNFLHlCQUFBO0VBQ0EsK0JBQUE7QUNKUjtBRFFJO0VBQ0Usa0JBQUE7QUNOTjtBRFFNO0VBQ0UseUJBQUE7RUFDQSwrQkFBQTtBQ05SO0FEVUk7RUFDRSxxQkFBQTtBQ1JOO0FEVU07RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtBQ1JSO0FEVVE7RUFDRSxvQkFBQTtBQ1JWO0FEV1E7RUFDRSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQ1RWO0FEYU07RUFDRSxnQkFBQTtFQUNBLHFCQUFBO0FDWFI7O0FEaUJBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUNkRjtBRGdCRTtFQUNFLG1CQUFBO0FDZEo7QURpQkU7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLG9EQUFBO0VBQ0EscUJBQUE7QUNmSjtBRGlCSTtFQUVFLFdBQUE7RUFDQSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtBQ2hCTjtBRG1CSTtFQUNFLFdBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSw2Q0FBQTtFQUNBLG1CQUFBO0FDakJOO0FEb0JJO0VBQ0UsVUFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLDZDQUFBO0VBQ0EsbUJBQUE7QUNsQk47O0FEdUJBO0VBQ0U7SUFDRSx5QkFBQTtFQ3BCRjtFRHNCQTtJQUVFLHlDQUFBO0VDckJGO0FBQ0Y7QUR3QkE7RUFDRSx1QkFBQTtFQUNBLHNCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EseUNBQUE7QUN0QkY7QUR3QkU7RUFDRSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxzQkFBQTtBQ3RCSjtBRHlCRTtFQUNFLGFBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtBQ3ZCSjtBRHlCSTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBQ0EsaUNBQUE7QUN2Qk47QUR5Qk07RUFDRSx5QkFBQTtBQ3ZCUjs7QUQ2QkE7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxzQkFBQTtFQUNBLGFBQUE7RUFDQSx5Q0FBQTtBQzFCRjtBRDRCRTtFQUNFLE9BQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0VBQ0EscUJBQUE7QUMxQko7QUQ0Qkk7RUFDRSxxQkFBQTtFQUNBLGlEQUFBO0FDMUJOO0FEOEJFO0VBQ0UseUJBQUE7RUFDQSxxQkFBQTtFQUNBLHFCQUFBO0VBQ0EscUJBQUE7RUFDQSxvQkFBQTtBQzVCSjtBRDhCSTtFQUVFLHlCQUFBO0VBQ0EscUJBQUE7QUM3Qk47QURnQ0k7RUFDRSx5QkFBQTtFQUNBLHFCQUFBO0FDOUJOOztBRG1DQSwyQkFBQTtBQUNBO0VBQ0U7SUFDRSxlQUFBO0lBQ0EsMEJBQUE7RUNoQ0Y7RURtQ0E7SUFDRSx5QkFBQTtFQ2pDRjtFRHNDSTtJQUNFLGtCQUFBO0lBQ0EsdUJBQUE7RUNwQ047QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5jaGF0LWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDcwcHgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICBwYWRkaW5nOiAxcmVtO1xufVxuXG4uY2hhdC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogMC43NXJlbTtcbiAgcGFkZGluZzogMS4yNXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICBoMSB7XG4gICAgY29sb3I6ICMyYzdhNjc7XG4gICAgZm9udC1zaXplOiAxLjVyZW07XG4gICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuXG4gICAgaSB7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcbiAgICB9XG4gIH1cblxuICBwIHtcbiAgICBjb2xvcjogIzZjNzU3ZDtcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xuICB9XG5cbiAgYnV0dG9uIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAxLjI1cmVtO1xuICAgIHJpZ2h0OiAxLjI1cmVtO1xuICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XG5cbiAgICBpIHtcbiAgICAgIG1hcmdpbi1yaWdodDogMC4zNXJlbTtcbiAgICB9XG4gIH1cbn1cblxuLmNoYXQtbWVzc2FnZXMge1xuICBmbGV4OiAxO1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICBwYWRkaW5nOiAxcmVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogMC43NXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG5cbiAgLm1lc3NhZ2Uge1xuICAgIG1hcmdpbi1ib3R0b206IDEuMjVyZW07XG4gICAgbWF4LXdpZHRoOiA4MCU7XG5cbiAgICAmLnVzZXItbWVzc2FnZSB7XG4gICAgICBtYXJnaW4tbGVmdDogYXV0bztcblxuICAgICAgLm1lc3NhZ2UtY29udGVudCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlN2YyZWY7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDFyZW0gMXJlbSAwIDFyZW07XG4gICAgICB9XG4gICAgfVxuXG4gICAgJi5haS1tZXNzYWdlIHtcbiAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcblxuICAgICAgLm1lc3NhZ2UtY29udGVudCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYyZjU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDFyZW0gMXJlbSAxcmVtIDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLm1lc3NhZ2UtY29udGVudCB7XG4gICAgICBwYWRkaW5nOiAwLjc1cmVtIDFyZW07XG5cbiAgICAgIC5tZXNzYWdlLXNlbmRlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgICAgICAgY29sb3I6ICM0OTUwNTc7XG5cbiAgICAgICAgaSB7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG4gICAgICAgIH1cblxuICAgICAgICAudGltZXN0YW1wIHtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICAgICAgICBjb2xvcjogI2FkYjViZDtcbiAgICAgICAgICBmb250LXNpemU6IDAuNzVyZW07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLm1lc3NhZ2UtdGV4dCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLmFpLXR5cGluZyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGNvbG9yOiAjNmM3NTdkO1xuICBmb250LXNpemU6IDAuODc1cmVtO1xuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuXG4gIHNwYW4ge1xuICAgIG1hcmdpbi1sZWZ0OiAwLjVyZW07XG4gIH1cblxuICAuZG90LWZsYXNoaW5nIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgd2lkdGg6IDhweDtcbiAgICBoZWlnaHQ6IDhweDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJjN2E2NztcbiAgICBhbmltYXRpb246IGRvdC1mbGFzaGluZyAxcyBpbmZpbml0ZSBsaW5lYXIgYWx0ZXJuYXRlO1xuICAgIGFuaW1hdGlvbi1kZWxheTogMC41cztcblxuICAgICY6OmJlZm9yZSxcbiAgICAmOjphZnRlciB7XG4gICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAwO1xuICAgIH1cblxuICAgICY6OmJlZm9yZSB7XG4gICAgICBsZWZ0OiAtMTJweDtcbiAgICAgIHdpZHRoOiA4cHg7XG4gICAgICBoZWlnaHQ6IDhweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyYzdhNjc7XG4gICAgICBhbmltYXRpb246IGRvdC1mbGFzaGluZyAxcyBpbmZpbml0ZSBhbHRlcm5hdGU7XG4gICAgICBhbmltYXRpb24tZGVsYXk6IDBzO1xuICAgIH1cblxuICAgICY6OmFmdGVyIHtcbiAgICAgIGxlZnQ6IDEycHg7XG4gICAgICB3aWR0aDogOHB4O1xuICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmM3YTY3O1xuICAgICAgYW5pbWF0aW9uOiBkb3QtZmxhc2hpbmcgMXMgaW5maW5pdGUgYWx0ZXJuYXRlO1xuICAgICAgYW5pbWF0aW9uLWRlbGF5OiAxcztcbiAgICB9XG4gIH1cbn1cblxuQGtleWZyYW1lcyBkb3QtZmxhc2hpbmcge1xuICAwJSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJjN2E2NztcbiAgfVxuICA1MCUsXG4gIDEwMCUge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDQsIDEyMiwgMTAzLCAwLjIpO1xuICB9XG59XG5cbi5xdWljay1zdWdnZXN0aW9ucyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiAwLjc1cmVtO1xuICBwYWRkaW5nOiAxcmVtO1xuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcblxuICAuc3VnZ2VzdGlvbi1sYWJlbCB7XG4gICAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgICBjb2xvcjogIzZjNzU3ZDtcbiAgICBtYXJnaW4tYm90dG9tOiAwLjc1cmVtO1xuICB9XG5cbiAgLnN1Z2dlc3Rpb25zLWxpc3Qge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGdhcDogMC43NXJlbTtcblxuICAgIC5zdWdnZXN0aW9uLWJ1dHRvbiB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMmY1O1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgYm9yZGVyLXJhZGl1czogMXJlbTtcbiAgICAgIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgICAgIGNvbG9yOiAjMmM3YTY3O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzO1xuXG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U3ZjJlZjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLmNoYXQtaW5wdXQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogMC43NXJlbTtcbiAgcGFkZGluZzogMXJlbTtcbiAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG5cbiAgaW5wdXQge1xuICAgIGZsZXg6IDE7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2U5ZWNlZjtcbiAgICBib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gICAgcGFkZGluZzogMC43NXJlbSAxcmVtO1xuXG4gICAgJjpmb2N1cyB7XG4gICAgICBib3JkZXItY29sb3I6ICMyYzdhNjc7XG4gICAgICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSg0NCwgMTIyLCAxMDMsIDAuMjUpO1xuICAgIH1cbiAgfVxuXG4gIC5zdWJtaXQtYnRuIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmM3YTY3O1xuICAgIGJvcmRlci1jb2xvcjogIzJjN2E2NztcbiAgICBib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gICAgcGFkZGluZzogMC43NXJlbSAxcmVtO1xuICAgIG1hcmdpbi1sZWZ0OiAwLjc1cmVtO1xuXG4gICAgJjpob3ZlcixcbiAgICAmOmZvY3VzIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMzYzNTU7XG4gICAgICBib3JkZXItY29sb3I6ICMyMzYzNTU7XG4gICAgfVxuXG4gICAgJjpkaXNhYmxlZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOGFiOWFmO1xuICAgICAgYm9yZGVyLWNvbG9yOiAjOGFiOWFmO1xuICAgIH1cbiAgfVxufVxuXG4vKiBSZXNwb25zaXZlIGFkanVzdG1lbnRzICovXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmNoYXQtY29udGFpbmVyIHtcbiAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNTZweCk7XG4gIH1cblxuICAubWVzc2FnZSB7XG4gICAgbWF4LXdpZHRoOiA5MCUgIWltcG9ydGFudDtcbiAgfVxuXG4gIC5xdWljay1zdWdnZXN0aW9ucyB7XG4gICAgLnN1Z2dlc3Rpb25zLWxpc3Qge1xuICAgICAgLnN1Z2dlc3Rpb24tYnV0dG9uIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjc1cmVtO1xuICAgICAgICBwYWRkaW5nOiAwLjRyZW0gMC43NXJlbTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIi5jaGF0LWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDcwcHgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICBwYWRkaW5nOiAxcmVtO1xufVxuXG4uY2hhdC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogMC43NXJlbTtcbiAgcGFkZGluZzogMS4yNXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbi5jaGF0LWhlYWRlciBoMSB7XG4gIGNvbG9yOiAjMmM3YTY3O1xuICBmb250LXNpemU6IDEuNXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xufVxuLmNoYXQtaGVhZGVyIGgxIGkge1xuICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcbn1cbi5jaGF0LWhlYWRlciBwIHtcbiAgY29sb3I6ICM2Yzc1N2Q7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG4uY2hhdC1oZWFkZXIgYnV0dG9uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDEuMjVyZW07XG4gIHJpZ2h0OiAxLjI1cmVtO1xuICBmb250LXNpemU6IDAuODc1cmVtO1xufVxuLmNoYXQtaGVhZGVyIGJ1dHRvbiBpIHtcbiAgbWFyZ2luLXJpZ2h0OiAwLjM1cmVtO1xufVxuXG4uY2hhdC1tZXNzYWdlcyB7XG4gIGZsZXg6IDE7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIHBhZGRpbmc6IDFyZW07XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiAwLjc1cmVtO1xuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcbn1cbi5jaGF0LW1lc3NhZ2VzIC5tZXNzYWdlIHtcbiAgbWFyZ2luLWJvdHRvbTogMS4yNXJlbTtcbiAgbWF4LXdpZHRoOiA4MCU7XG59XG4uY2hhdC1tZXNzYWdlcyAubWVzc2FnZS51c2VyLW1lc3NhZ2Uge1xuICBtYXJnaW4tbGVmdDogYXV0bztcbn1cbi5jaGF0LW1lc3NhZ2VzIC5tZXNzYWdlLnVzZXItbWVzc2FnZSAubWVzc2FnZS1jb250ZW50IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U3ZjJlZjtcbiAgYm9yZGVyLXJhZGl1czogMXJlbSAxcmVtIDAgMXJlbTtcbn1cbi5jaGF0LW1lc3NhZ2VzIC5tZXNzYWdlLmFpLW1lc3NhZ2Uge1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG4uY2hhdC1tZXNzYWdlcyAubWVzc2FnZS5haS1tZXNzYWdlIC5tZXNzYWdlLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMmY1O1xuICBib3JkZXItcmFkaXVzOiAxcmVtIDFyZW0gMXJlbSAwO1xufVxuLmNoYXQtbWVzc2FnZXMgLm1lc3NhZ2UgLm1lc3NhZ2UtY29udGVudCB7XG4gIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcbn1cbi5jaGF0LW1lc3NhZ2VzIC5tZXNzYWdlIC5tZXNzYWdlLWNvbnRlbnQgLm1lc3NhZ2Utc2VuZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuICBmb250LXNpemU6IDAuODc1cmVtO1xuICBjb2xvcjogIzQ5NTA1Nztcbn1cbi5jaGF0LW1lc3NhZ2VzIC5tZXNzYWdlIC5tZXNzYWdlLWNvbnRlbnQgLm1lc3NhZ2Utc2VuZGVyIGkge1xuICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcbn1cbi5jaGF0LW1lc3NhZ2VzIC5tZXNzYWdlIC5tZXNzYWdlLWNvbnRlbnQgLm1lc3NhZ2Utc2VuZGVyIC50aW1lc3RhbXAge1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgY29sb3I6ICNhZGI1YmQ7XG4gIGZvbnQtc2l6ZTogMC43NXJlbTtcbn1cbi5jaGF0LW1lc3NhZ2VzIC5tZXNzYWdlIC5tZXNzYWdlLWNvbnRlbnQgLm1lc3NhZ2UtdGV4dCB7XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbn1cblxuLmFpLXR5cGluZyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGNvbG9yOiAjNmM3NTdkO1xuICBmb250LXNpemU6IDAuODc1cmVtO1xuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xufVxuLmFpLXR5cGluZyBzcGFuIHtcbiAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcbn1cbi5haS10eXBpbmcgLmRvdC1mbGFzaGluZyB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDhweDtcbiAgaGVpZ2h0OiA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJjN2E2NztcbiAgYW5pbWF0aW9uOiBkb3QtZmxhc2hpbmcgMXMgaW5maW5pdGUgbGluZWFyIGFsdGVybmF0ZTtcbiAgYW5pbWF0aW9uLWRlbGF5OiAwLjVzO1xufVxuLmFpLXR5cGluZyAuZG90LWZsYXNoaW5nOjpiZWZvcmUsIC5haS10eXBpbmcgLmRvdC1mbGFzaGluZzo6YWZ0ZXIge1xuICBjb250ZW50OiBcIlwiO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xufVxuLmFpLXR5cGluZyAuZG90LWZsYXNoaW5nOjpiZWZvcmUge1xuICBsZWZ0OiAtMTJweDtcbiAgd2lkdGg6IDhweDtcbiAgaGVpZ2h0OiA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJjN2E2NztcbiAgYW5pbWF0aW9uOiBkb3QtZmxhc2hpbmcgMXMgaW5maW5pdGUgYWx0ZXJuYXRlO1xuICBhbmltYXRpb24tZGVsYXk6IDBzO1xufVxuLmFpLXR5cGluZyAuZG90LWZsYXNoaW5nOjphZnRlciB7XG4gIGxlZnQ6IDEycHg7XG4gIHdpZHRoOiA4cHg7XG4gIGhlaWdodDogOHB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyYzdhNjc7XG4gIGFuaW1hdGlvbjogZG90LWZsYXNoaW5nIDFzIGluZmluaXRlIGFsdGVybmF0ZTtcbiAgYW5pbWF0aW9uLWRlbGF5OiAxcztcbn1cblxuQGtleWZyYW1lcyBkb3QtZmxhc2hpbmcge1xuICAwJSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJjN2E2NztcbiAgfVxuICA1MCUsIDEwMCUge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDQsIDEyMiwgMTAzLCAwLjIpO1xuICB9XG59XG4ucXVpY2stc3VnZ2VzdGlvbnMge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogMC43NXJlbTtcbiAgcGFkZGluZzogMXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG59XG4ucXVpY2stc3VnZ2VzdGlvbnMgLnN1Z2dlc3Rpb24tbGFiZWwge1xuICBmb250LXNpemU6IDAuODc1cmVtO1xuICBjb2xvcjogIzZjNzU3ZDtcbiAgbWFyZ2luLWJvdHRvbTogMC43NXJlbTtcbn1cbi5xdWljay1zdWdnZXN0aW9ucyAuc3VnZ2VzdGlvbnMtbGlzdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgZ2FwOiAwLjc1cmVtO1xufVxuLnF1aWNrLXN1Z2dlc3Rpb25zIC5zdWdnZXN0aW9ucy1saXN0IC5zdWdnZXN0aW9uLWJ1dHRvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmMGYyZjU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogMXJlbTtcbiAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gIGZvbnQtc2l6ZTogMC44NzVyZW07XG4gIGNvbG9yOiAjMmM3YTY3O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycztcbn1cbi5xdWljay1zdWdnZXN0aW9ucyAuc3VnZ2VzdGlvbnMtbGlzdCAuc3VnZ2VzdGlvbi1idXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTdmMmVmO1xufVxuXG4uY2hhdC1pbnB1dCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiAwLjc1cmVtO1xuICBwYWRkaW5nOiAxcmVtO1xuICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcbn1cbi5jaGF0LWlucHV0IGlucHV0IHtcbiAgZmxleDogMTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2U5ZWNlZjtcbiAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xuICBwYWRkaW5nOiAwLjc1cmVtIDFyZW07XG59XG4uY2hhdC1pbnB1dCBpbnB1dDpmb2N1cyB7XG4gIGJvcmRlci1jb2xvcjogIzJjN2E2NztcbiAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoNDQsIDEyMiwgMTAzLCAwLjI1KTtcbn1cbi5jaGF0LWlucHV0IC5zdWJtaXQtYnRuIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJjN2E2NztcbiAgYm9yZGVyLWNvbG9yOiAjMmM3YTY3O1xuICBib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcbiAgbWFyZ2luLWxlZnQ6IDAuNzVyZW07XG59XG4uY2hhdC1pbnB1dCAuc3VibWl0LWJ0bjpob3ZlciwgLmNoYXQtaW5wdXQgLnN1Ym1pdC1idG46Zm9jdXMge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjM2MzU1O1xuICBib3JkZXItY29sb3I6ICMyMzYzNTU7XG59XG4uY2hhdC1pbnB1dCAuc3VibWl0LWJ0bjpkaXNhYmxlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM4YWI5YWY7XG4gIGJvcmRlci1jb2xvcjogIzhhYjlhZjtcbn1cblxuLyogUmVzcG9uc2l2ZSBhZGp1c3RtZW50cyAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC5jaGF0LWNvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMC41cmVtO1xuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDU2cHgpO1xuICB9XG4gIC5tZXNzYWdlIHtcbiAgICBtYXgtd2lkdGg6IDkwJSAhaW1wb3J0YW50O1xuICB9XG4gIC5xdWljay1zdWdnZXN0aW9ucyAuc3VnZ2VzdGlvbnMtbGlzdCAuc3VnZ2VzdGlvbi1idXR0b24ge1xuICAgIGZvbnQtc2l6ZTogMC43NXJlbTtcbiAgICBwYWRkaW5nOiAwLjRyZW0gMC43NXJlbTtcbiAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","i0","ɵɵelement","ɵɵelementStart","ɵɵtemplate","ChatComponent_div_12_i_3_Template","ChatComponent_div_12_i_4_Template","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction2","_c1","message_r4","sender","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","userName","ɵɵpipeBind2","timestamp","content","ɵɵsanitizeHtml","ɵɵlistener","ChatComponent_div_14_button_4_Template_button_click_0_listener","restoredCtx","ɵɵrestoreView","_r10","tip_r8","$implicit","ctx_r9","ɵɵnextContext","ɵɵresetView","selectQuickTip","ɵɵtextInterpolate1","ChatComponent_div_14_button_4_Template","ctx_r3","ecoTips","ChatComponent","constructor","formBuilder","userService","chatService","messages","loading","ngOnInit","chatForm","group","message","required","user","getCurrentUser","name","loadChatHistory","addMessage","getChatHistory","subscribe","next","history","length","forEach","msg","push","Date","setTimeout","scrollToBottom","error","console","onSubmit","invalid","userMessage","get","value","reset","sendMessage","response","reply","chatMessages","nativeElement","scrollTop","scrollHeight","err","tip","patchValue","clearChat","clearChatHistory","ɵɵdirectiveInject","i1","FormBuilder","i2","UserService","i3","ChatService","selectors","viewQuery","ChatComponent_Query","rf","ctx","ChatComponent_Template_button_click_7_listener","ChatComponent_div_12_Template","ChatComponent_div_13_Template","ChatComponent_div_14_Template","ChatComponent_Template_form_ngSubmit_15_listener"],"sources":["/Users/thameem/Desktop/Spring 2025/Waste0/frontend/src/app/components/chat/chat.component.ts","/Users/thameem/Desktop/Spring 2025/Waste0/frontend/src/app/components/chat/chat.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef } from \"@angular/core\";\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { UserService } from \"../../services/user.service\";\nimport { ChatService } from \"../../services/chat.service\";\n\ninterface ChatMessage {\n  content: string;\n  sender: \"user\" | \"ai\";\n  timestamp: Date;\n}\n\n@Component({\n  selector: \"app-chat\",\n  templateUrl: \"./chat.component.html\",\n  styleUrls: [\"./chat.component.scss\"],\n})\nexport class ChatComponent implements OnInit {\n  @ViewChild('chatMessages') chatMessages!: ElementRef;\n\n  chatForm: FormGroup;\n  messages: ChatMessage[] = [];\n  loading: boolean = false;\n  userName: string = \"\";\n\n  // Sample eco-tips for quick suggestions\n  ecoTips: string[] = [\n    \"How can I reduce my carbon footprint?\",\n    \"Give me tips for zero waste shopping\",\n    \"What are sustainable alternatives to plastic?\",\n    \"How can I save energy at home?\",\n    \"Tell me about composting at home\",\n  ];\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private userService: UserService,\n    private chatService: ChatService\n  ) {}\n\n  ngOnInit(): void {\n    this.chatForm = this.formBuilder.group({\n      message: [\"\", Validators.required],\n    });\n\n    const user = this.userService.getCurrentUser();\n    if (user) {\n      this.userName = user.name;\n      this.loadChatHistory();\n    }\n\n    // Welcome message\n    this.addMessage(\n      \"Hello! I'm your EcoWise AI assistant. How can I help you with your sustainability journey today?\",\n      \"ai\"\n    );\n  }\n\n  loadChatHistory(): void {\n    this.loading = true;\n    this.chatService.getChatHistory().subscribe({\n      next: (history) => {\n        if (history && history.length > 0) {\n          // Add previous messages to chat\n          history.forEach((msg) => {\n            this.messages.push({\n              content: msg.content,\n              sender: msg.sender as \"user\" | \"ai\",\n              timestamp: new Date(msg.timestamp),\n            });\n          });\n\n          setTimeout(() => this.scrollToBottom(), 100);\n        }\n        this.loading = false;\n      },\n      error: (error) => {\n        console.error(\"Error loading chat history:\", error);\n        this.loading = false;\n      },\n    });\n  }\n\n  onSubmit(): void {\n    if (this.chatForm.invalid) {\n      return;\n    }\n\n    const userMessage = this.chatForm.get(\"message\").value;\n    this.addMessage(userMessage, \"user\");\n    this.chatForm.reset();\n\n    // Send message to API\n    this.loading = true;\n    this.chatService.sendMessage(userMessage).subscribe({\n      next: (response) => {\n        this.addMessage(response.reply, \"ai\");\n        this.loading = false;\n      },\n      error: (error) => {\n        console.error(\"Error sending message:\", error);\n        this.addMessage(\n          \"Sorry, I encountered an error processing your request. Please try again later.\",\n          \"ai\"\n        );\n        this.loading = false;\n      },\n    });\n  }\n\n  addMessage(content: string, sender: \"user\" | \"ai\"): void {\n    const message: ChatMessage = {\n      content,\n      sender,\n      timestamp: new Date(),\n    };\n\n    this.messages.push(message);\n    setTimeout(() => this.scrollToBottom(), 100);\n  }\n\n  scrollToBottom(): void {\n    try {\n      this.chatMessages.nativeElement.scrollTop =\n        this.chatMessages.nativeElement.scrollHeight;\n    } catch (err) {\n      console.error(\"Error scrolling to bottom:\", err);\n    }\n  }\n\n  selectQuickTip(tip: string): void {\n    this.chatForm.patchValue({ message: tip });\n  }\n\n  clearChat(): void {\n    this.messages = [];\n    this.addMessage(\n      \"Chat cleared. How else can I help you with your sustainability journey?\",\n      \"ai\"\n    );\n\n    // Clear chat history in the backend\n    this.chatService.clearChatHistory().subscribe({\n      error: (error) => console.error(\"Error clearing chat history:\", error),\n    });\n  }\n}\n","<div class=\"chat-container\">\n  <div class=\"chat-header\">\n    <h1><i class=\"fas fa-robot\"></i> EcoWise AI Assistant</h1>\n    <p>\n      Ask me anything about sustainable living, eco-tips, or your environmental\n      impact\n    </p>\n    <button (click)=\"clearChat()\" class=\"btn btn-sm btn-outline-secondary\">\n      <i class=\"fas fa-trash\"></i> Clear Chat\n    </button>\n  </div>\n\n  <div class=\"chat-messages\" #chatMessages>\n    <div\n      *ngFor=\"let message of messages\"\n      class=\"message\"\n      [ngClass]=\"{\n        'user-message': message.sender === 'user',\n        'ai-message': message.sender === 'ai'\n      }\"\n    >\n      <div class=\"message-content\">\n        <div class=\"message-sender\">\n          <i *ngIf=\"message.sender === 'ai'\" class=\"fas fa-robot\"></i>\n          <i *ngIf=\"message.sender === 'user'\" class=\"fas fa-user\"></i>\n          <span>{{\n            message.sender === \"user\" ? userName || \"You\" : \"EcoWise AI\"\n          }}</span>\n          <span class=\"timestamp\">{{\n            message.timestamp | date : \"shortTime\"\n          }}</span>\n        </div>\n        <div class=\"message-text\" [innerHTML]=\"message.content\"></div>\n      </div>\n    </div>\n\n    <div *ngIf=\"loading\" class=\"ai-typing\">\n      <div class=\"dot-flashing\"></div>\n      <span>EcoWise AI is thinking...</span>\n    </div>\n  </div>\n\n  <div class=\"quick-suggestions\" *ngIf=\"ecoTips.length > 0\">\n    <div class=\"suggestion-label\">Quick suggestions:</div>\n    <div class=\"suggestions-list\">\n      <button\n        *ngFor=\"let tip of ecoTips\"\n        class=\"suggestion-button\"\n        (click)=\"selectQuickTip(tip)\"\n      >\n        {{ tip }}\n      </button>\n    </div>\n  </div>\n\n  <form [formGroup]=\"chatForm\" (ngSubmit)=\"onSubmit()\" class=\"chat-input\">\n    <input\n      type=\"text\"\n      formControlName=\"message\"\n      placeholder=\"Type your question here...\"\n      [disabled]=\"loading\"\n      class=\"form-control\"\n    />\n    <button\n      type=\"submit\"\n      class=\"btn btn-primary submit-btn\"\n      [disabled]=\"chatForm.invalid || loading\"\n    >\n      <i class=\"fas fa-paper-plane\"></i>\n    </button>\n  </form>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}